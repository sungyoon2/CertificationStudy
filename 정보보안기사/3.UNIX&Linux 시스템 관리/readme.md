# UNIX/Linux 시스템 관리
---
시스템 시작과 종료
---
> 시스템 런 레벨<br>
- 시스템 운영수준(실행단계)
```
<리눅스 기준>
0 : 시스템 중지
1 : 단일 사용자 모드, 네트워크 서비스X, 시스템 관리 목적
2 : 네트워크 사용하지 않는 다중 사용자 모드
3 : 네트워크를 지원하는 다중 사용자 모드
4 : 사용안함
5 : GUI환경을 사용하는 다중 사용자 모드
6 : 시스템 재부팅
<런레벨 디렉터리>
- /etc/rc.d/rc[런 레벨].d
<현재 런레벨확인>
- who -r(유닉스) OR runlevel(리눅스)\
```
> 시스템의 시작<br>
```
1. BIOS과정 : 시스템의 기본적인 하드웨어 이상유무점검및 정보 수집
2. BOOT 프로그램 과정 : 커널을 읽어들여 메모리상 적재하고 시스템제어권을 커널로
3. Kernel 과정 : 운영체제가 구동되기 시작, 내부 자료초기화 및 부가적인 커널모듈을 메모리상으로 적재
4. init 프로세스 과정 : PID가 1인 Init 프로세스가 실행, 초기화 작업
```
---
사용자 및 그룹 관리
---
> useradd <br>
- 새로운 사용자 계정 추가
```
<옵션>
-u : 사용자 ID 설정
-g : 사용자 기본그룹 ID설정(그룹명 OR 그룹ID)
-G : 사용자 보조그룹 ID 설정
-c : 계정에 대한 설명
-d : 계정의 홈 디렉터리 설정(계정 생성과 함꼐 홈 디렉터리를 생성할 경우 -m옵션 사용 ex. -m -d ~~)
-s : 계정의 로그인 쉘 설정
```
> usermod<br>
- 기존 사용자의 계정정보 변경
```
<옵션>
-u : 사용자 ID 변경
-g : 사용자 기본그룹 ID변경
-G : 사용자 보조그룹 ID변경
-c : 계정에 대한 설명 변경
-d : 계정의 홈 디렉터리 변경
-s : 계정의 로그인 쉘 변경
-o : 중복 UID허용하는 옵션(-> ROOT권한 탈취에 이용 usermod -o -u 0 -g 0 [login_name]
```
> userdel<br>
- 기존의 사용자를 삭제
> groupadd<br>
- 시스템에 새로운 그룹을 추가
> groupmod<br>
- 기존 그룹의 정보를 변경
```
<옵션>
-g : 그룹 id변경
-n : 그룹의 이름 변경
```
> df<br>
- 시스템에 마운트된 모든 파일시스템(디스크) 여유 공간의 크기를 확인
```
-h : 여유공간의 크기를 사람이 보기 쉬운 단위로 출력
```
> du<br>
- 시스템 내 디렉터리(파일)의 크기(디스크 사용량)을 확인
```
<옵션>
-h : 사람이 보기 쉬운 단위로 출력
-a : all의 약자, 하위 디렉터리뿐만아니라 파일에 대한 크기(사용량)도 출력
-s : summary의 약자, 하위 디렉터리 표시 없이 전체 크기(사용량) 표시
```
---
작업 스케줄 관리
---
> cron<br>
- 정기적인 작업 스케줄링 서비스
```
< /etc/crontab >
- 관리자가 설정하는 작업 등록 파일
- root소유의 640이하 권하 설정 권장
< /var/spool/cron >
- 사용자별로 'crontab'명령을 통해 등록한 cron작업이 계정명으로 저장
< cat /etc/crontab >
- 계정별로 등록한 cron작업내역
<기호>
* : 각 필드에 해당하는 모든 값
- : 범위의 값을 지정
, : 값을 구분하여 지정
/ : 간격값을 지정
<crontab 옵션>
리눅스 : crontab [-u user] [-e | -l | -r]
유닉스 : crontab [-e | -l | -r] [user]
-e : 개별 사용자의 cron 작업 등록파일을 편집
-l : 개별사용자의 cron 작업 등록 파일을 출력
-r : 개별 사용자의 cron 작업 등록 파일을 삭제
```
> crontab 명령 접근제어<br>
- 화이트 리스트 정책 : cron.allow( /etc/cron.allow파일에 허용할 사용자를 설정)
- 블랙 리스트 정책 : cron.deny( /etc//cron.deny파일에 차단할 사용자를 설정)
